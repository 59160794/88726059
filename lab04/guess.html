<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>guess</title>
</head>

<body>
    <h2>เกมทายตัวเลข</h2>
    <input type="number" name="answer" id="answer" onkeyup="guess(event)">
    <button onclick="guess()">ลองทาย</button>
    <p id="result"></p>
    <p id="resultList"></p>
    <script>
        var randomNumber = Math.floor(Math.random() * 10);
        var answerList = []
        var tagP = "<p>${value}</p>"
        console.log(randomNumber)

        function guess(event) {
            var resultList = ""
            var answer = document.getElementById("answer").value

            if (event !== undefined) {
                if (event.keyCode === 13) {
                    console.log("Yor enter")
                    answerList.push(answer)
                    getMessage(answer)
                }
            } else {
                console.log("Yor click")
                answerList.push(answer)
                getMessage(answer)
            }

            console.log(answerList)
            if (answerList.length > 0) {
                resultList += "<h4>ตัวเลขที่เคยทายไปแล้ว</h4>"
                answerList.forEach(value => {
                    resultList += tagP.replace("${value}", value)
                })
                document.getElementById("resultList").innerHTML = resultList
            }
        }

        function getMessage(answer) {
            var result = ""
            if (answer > randomNumber) {
                result = tagP.replace("${value}", "มากไป")
            } else if (answer < randomNumber) {
                result = tagP.replace("${value}", "น้อยไป")
            } else if (answer == randomNumber) {
                result = tagP.replace("${value}", "ถูกต้อง")
            }
            document.getElementById("result").innerHTML = result
        }
    </script>
</body>

</html>